library(ggplot2)

## lexical decision data
data(english, package="languageR")

## default scatterplot
qplot(x = WrittenFrequency, y = RTlexdec, data = english,
      main = "Frequency and Reaction Time")

## transform the dependent variable
qplot(x = WrittenFrequency, y = exp(RTlexdec), data = english)

## color for groups
qplot(x = WrittenFrequency, y = RTlexdec, data = english,
      colour=AgeSubject)

## shape for groups
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      shape=AgeSubject)

## colour and shape for groups
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=WordCategory)

## colour, shape, and size
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=WordCategory,
      size=FamilySize)

## panels
## one conditioning variable
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=Frication,
      facets = . ~ WordCategory)

## panels with totals shown
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=AgeSubject,
      facets = . ~ WordCategory,
      margins=TRUE)

## two conditioning variables
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=Frication,
      facets = CV ~ WordCategory)

## panels with totals shown
qplot(x = WrittenFrequency, y = log(RTlexdec), data = english,
      colour=AgeSubject,
      shape=Frication,
      facets = CV ~ WordCategory,
      margins=TRUE)

## changing type of plot requires changing the "geom"
qplot(x = WrittenFrequency, data = english,
      geom = "density", fill=rev(AgeSubject))

## histograms don't have a sensible default for bin size
qplot(x = RTlexdec, data = english,
      geom = "histogram",
      fill=AgeSubject)

## stacked bar charts are the default
qplot(x=WordCategory, data = english,
      geom = "bar",
      fill=Voice)

## use "dodge" positioning to unstack them
qplot(x=WordCategory, data = english,
      geom = "bar",
      fill=Voice,
      position="dodge")

## plots from scratch, without qplot

## boxplot
bxp <- ggplot(data = english, aes(x=AgeSubject, y=RTlexdec))
bxp <- bxp + stat_boxplot(aes(fill=WordCategory))
(bxp)

## barplot of means
bpm <- ggplot(data=english, aes(x=AgeSubject, y=RTlexdec))
bpm <- bpm +
  stat_summary(fun=mean, geom="bar", aes(fill=WordCategory), pos="dodge")
(bpm)

library(Hmisc)
## barplot with error bars computed on the fly

bpe <- ggplot(data=english, aes(x=AgeSubject, y=RTlexdec))
bpe <- bpe + stat_summary(fun="mean", geom="bar", pos="dodge")
bpe <- bpe + stat_summary(fun="mean_cl_normal", geom="errorbar", width=0.2)
(bpe)

## xyplot with transparency
## now add a specific color scale where we define an alpha level
xy.tr <- ggplot(data=english, aes(x=WrittenFrequency, y=RTlexdec))
xy.tr <- xy.tr + geom_point(aes(colour=AgeSubject))
xy.tr <- xy.tr + scale_colour_hue(alpha=1/5)
(xy.tr)

## transparent xy plot with different colors
## barplot with error bars using stat_ functions
## change the scale of the y axis on a bar chart
## change font size on axis labels
## move legend into plot area
## add smoothing example
## debug this script
## last_plot()
## memory concerns
## links to documentation
